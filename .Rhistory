library(odbc)
con <- DBI::dbConnect(odbc::odbc(),
Driver   = "SQL Server",
Server   = "wwldwsql1",
Database = "nhs_reporting",
UID      = "",
PWD      = "",
Port     = 1433)
data <- dbReadTable(con, "reporting_theatres_sessions")
library(odbc)
con <- DBI::dbConnect(odbc::odbc(),
Driver   = "SQL Server",
Server   = "wwldwsql1",
Database = "nhs_reporting",
UID      = "",
PWD      = "",
Port     = 1433)
data <- dbReadTable(con, "reporting_theatres_sessions")
library(RODBC)
data <- dbReadTable(con, "reporting_theatres_sessions")
data <- dbReadTable(con, "reporting_theatres_sessions")
data <- dbReadTable(con, "reporting_theatres_sessions")
data <- dbReadTable(con, "reporting_theatres_sessions")
library(odbc)
library(RODBC)
con <- DBI::dbConnect(odbc::odbc(),
Driver   = "SQL Server",
Server   = "wwldwsql1",
Database = "nhs_reporting",
UID      = "",
PWD      = "",
Port     = 1433)
data <- dbReadTable(con, "reporting_theatres_sessions")
data <- dbReadTable(con, "reporting_theatres")
data <- dbWriteTable(con, "reporting_theatres")
data <- dbWriteTable(con, "reporting_theatres")
library(odbc)
library(RODBC)
con <- DBI::dbConnect(odbc::odbc(),
Driver   = "SQL Server",
Server   = "wwldwsql1",
Database = "nhs_reporting",
UID      = "",
PWD      = "",
Port     = 1433)
data <- dbWri(con, "reporting_theatres")
data <- dbWriteTable(con, "reporting_theatres")
data <- dbReadTable(con, "reporting_theatres")
dbFetch("reporting_theatres")
dbFetch(con)
dbListTables()
library(dbConnect)
library(DBI)
con <- DBI::dbConnect(odbc::odbc(),
Driver   = "SQL Server",
Server   = "wwldwsql1",
Database = "nhs_reporting",
UID      = "",
PWD      = "",
Port     = 1433)
data <- dbReadTable(con, "reporting_theatres")
system.time(data <- dbReadTable(con, "reporting_theatres"))
View(data)
system.time(data_theatre <- dbReadTable(con, "reporting_theatres_session"))
system.time(data_theatre_session <- dbReadTable(con, "reporting_theatres_sessions"))
View(data_theatre_session)
?cores
dbListTables()
?set.cores
??set.cores
View(data)
system.time(data_theatre <- dbReadTable(con, "reporting_theatres"))
library(odbc)
library(RODBC)
library(DBI)
con <- DBI::dbConnect(odbc::odbc(),
Driver   = "SQL Server",
Server   = "wwldwsql1",
Database = "nhs_reporting",
UID      = "",
PWD      = "",
Port     = 1433)
system.time(data_theatre <- dbReadTable(con, "reporting_theatres"))
View(data)
View(data)
rm(data)
rm(data_theatre_session)
install.packages("doParallel")
library(doParallel)
detectCores()
doParallel::registerDoParallel(cores = 4)
system.time(data_theatre <- dbReadTable(con, "reporting_theatres"))
getDoParWorkers()
stopCluster()
detectCores()
doParallel::registerDoParallel(cores = 1)
getDoParWorkers()
stopCluster()
system.time(data_theatre <- %dopar% dbReadTable(con, "reporting_theatres"))
system.time(data_theatre <- %dopar% {dbReadTable(con, "reporting_theatres"))}
system.time(data_theatre <- %dopar% {dbReadTable(con, "reporting_theatres"))}
system.time(data_theatre <- %dopar% {dbReadTable(con, "reporting_theatres"))}
doParallel::registerDoParallel(cores = 3)
View(data)
library(tidyverse )
library(lubridate)
process_one <- con %>%
mutate(surgery_date_dt = date(surgery_date_dt))
process_one <- data %>%
mutate(surgery_date_dt = date(surgery_date_dt))
library(tidyverse)
library(lubridate)
process_one <- data %>%
mutate(surgery_date_dt = date(surgery_date_dt))
process_one <- data %>%
mutate(surgery_date_dt = date(surgery_date_dt)) %>%
filter(surgery_date_dt > "2022-01-01")
View(process_one)
process_one <- data %>%
mutate(surgery_date_dt = date(surgery_date_dt)) %>%
filter(surgery_date_dt > "2022-01-01") %>%
select(c(1,2,5,15,18,27,28,30,32,34,35,36,38,40,42,43,44,51,52,53,55,56,57,58,59,83,84,85,86,88,89,90,91,92,93,108,109,128,129,130,131,132,133,137,138,139,140,141,142,143,150:164))
process_one <- data %>%
mutate(surgery_date_dt = date(surgery_date_dt)) %>%
filter(surgery_date_dt > "2022-01-01") %>%
select(c(1,2,5,15,18,27,28,30,32,34,35,36,38,40,42,43,44,51,52,53,55,56,57,58,59,83,84,85,86,88,89,90,91,92,93,108,109,128,129,130,131,132,133,137,138,139,140,141,142,143,150:164))
process_one <- data %>%
mutate(surgery_date_dt = date(surgery_date_dt)) %>%
filter(surgery_date_dt > "2022-01-01") %>%
select(c(1,2,5,15,18,27,28,30,32,34,35,36,38,40,42,43,44,51,52,53,55,56,57,58,59,83,84,85,86,88,89,90,91,92,93,108,109,128,129,130,131,132,133,137,138,139,140,141,142,143,150,164))
process_one <- data %>%
mutate(surgery_date_dt = date(surgery_date_dt)) %>%
filter(surgery_date_dt > "2022-01-01") %>%
select(1,2,5,15,18,27,28,30,32,34,35,36,38,40,42,43,44,51,52,53,55,56,57,58,59,83,84,85,86,88,89,90,91,92,93,108,109,128,129,130,131,132,133,137,138,139,140,141,142,143,150,164))
process_one <- data %>%
mutate(surgery_date_dt = date(surgery_date_dt)) %>%
filter(surgery_date_dt > "2022-01-01") %>%
select(1,2,5,15,18,27,28,30,32,34,35,36,38,40,42,43,44,51,52,53,55,56,57,58,59,83,84,85,86,88,89,90,91,92,93,108,109,128,129,130,131,132,133,137,138,139,140,141,142,143,150,164)
View(process_one)
process_one <- data %>%
mutate(surgery_date_dt = date(surgery_date_dt)) %>%
filter(surgery_date_dt > "2022-01-01") %>%
select(c(1,2,5,15,18,27,28,30,32,34,35,36,38,40,42,43,44,51,52,53,55,56,57,58,59,83,84,85,86,88,89,90,91,92,93,108,109,128,129,130,131,132,133,137,138,139,140,141,142,143,150:164))
View(process_one)
process_one <- data %>%
mutate(surgery_date_dt = date(surgery_date_dt)) %>%
filter(surgery_date_dt > "2022-01-01") %>%
select(c(1,2,5,15,18,27,28,30,32,34,35,36,38,40,42,43,44,51,52,53,55,56,57,58,59,83,84,85,86,88,89,90,91,92,93,108,109,128,129,130,131,132,133,137,138,139,140,141,142,143,150:164))
library(odbc)
library(DBI)
library(tidyverse)
library(lubridate)
process_one <- data %>%
mutate(surgery_date_dt = date(surgery_date_dt)) %>%
filter(surgery_date_dt > "2022-01-01") %>%
select(c(1,2,5,15,18,27,28,30,32,34,35,36,38,40,42,43,44,51,52,53,55,56,57,58,59,83,84,85,86,88,89,90,91,92,93,108,109,128,129,130,131,132,133,137,138,139,140,141,142,143,150:164))
View(process_one)
View(data)
View(process_one)
